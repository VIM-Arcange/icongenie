#!/usr/bin/env node

const parseArgs = require('minimist')

const argv = parseArgs(process.argv.slice(2), {
  alias: {
    h: 'help'
  },
  boolean: ['h']
})

if (argv.help) {
  console.log(`
  Description
    Creates sample source files for icons and for splashcreens
    in the current directory.

  Usage
    $ icon-genie sample

  Options
    --help, -h     Displays this message
  `)
  process.exit(0)
}

const { join } = require('path')
const fse = require('fs-extra')
const { green } = require('chalk')

const source = join(__dirname, '../samples')
const dest = process.cwd()

const samples = [
  { file: 'app-icon.png', resolution: '1240x1240' },
  { file: 'app-splashscreen.png', resolution: '2436x2436' }
]

const samplesLen = samples.length

console.log(` Generating sample source files:\n`)
console.log(` * ${dest}`)
samples.forEach((sample, index) => {
  fse.copy(
    join(source, sample.file),
    join(dest, sample.file)
  )

  const prefix = index + 1< samplesLen
    ? `├──`
    : `└──`
  console.log(` ${prefix} ${green(sample.file.padEnd(22, ' '))} -- ${sample.resolution}px`)
})

console.log()
